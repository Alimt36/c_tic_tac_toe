
// Ali Moghaddam Taaheri   2024/01/13  ( Don't Laugh :D ) 

#include <stdio.h>
#include <stdbool.h>
#include <conio.h>
#include <stdlib.h>

//------------------------------------------------------------------------------------------------------------------------------
char P[9] = { ' ' , ' ' , ' ' , ' ' , ' ' , ' ' , ' ' , ' ' , ' ' };
int introprint = 1;

void DrawBoard(int human_move, int computer_move);
int HumanMove();
int ComputerMove();
//------------------------------------------------------------------------------------------------------------------------------

//------------------------------------------------------------------------------------------------------------------------------
int main() {

    bool game_run = 1;
    int human_move, computer_move;
    int empty_spaces = 0;

    //  Input & unique-being test --------------------------------------------------------------------------------------------------
    do {

        do {
            human_move = HumanMove();

            computer_move = ComputerMove();

            do {
                computer_move = ComputerMove();
            } while (P[computer_move] != ' ');

        } while ((P[human_move] == ' ' && P[computer_move] == ' ' && computer_move != human_move) != true);

        DrawBoard(human_move, computer_move);
        //------------------------------------------------------------------------------------------------------------------------------

        //  Game Conditions  -----------------------------------------------------------------------------------------------------------
        if ((P[0] == 'X' && P[0] == P[1] && P[1] == P[2]) ||
            (P[3] == 'X' && P[3] == P[4] && P[4] == P[5]) ||
            (P[6] == 'X' && P[6] == P[7] && P[7] == P[8]) ||
            (P[0] == 'X' && P[0] == P[3] && P[3] == P[6]) ||
            (P[1] == 'X' && P[1] == P[4] && P[4] == P[7]) ||
            (P[2] == 'X' && P[2] == P[5] && P[5] == P[8]) ||
            (P[0] == 'X' && P[0] == P[4] && P[4] == P[8]) ||
            (P[2] == 'X' && P[2] == P[4] && P[4] == P[6])) {

            printf("You Win! \n");
            //getch();
            (void)_getch();
            game_run = false;
        }
        else if ((P[0] == 'O' && P[0] == P[1] && P[1] == P[2]) ||
            (P[3] == 'O' && P[3] == P[4] && P[4] == P[5]) ||
            (P[6] == 'O' && P[6] == P[7] && P[7] == P[8]) ||
            (P[0] == 'O' && P[0] == P[3] && P[3] == P[6]) ||
            (P[1] == 'O' && P[1] == P[4] && P[4] == P[7]) ||
            (P[2] == 'O' && P[2] == P[5] && P[5] == P[8]) ||
            (P[0] == 'O' && P[0] == P[4] && P[4] == P[8]) ||
            (P[2] == 'O' && P[2] == P[4] && P[4] == P[6])) {

            printf("You Lost! \n");
            //getch();
            (void)_getch();
            game_run = false;
        }

        for (int i = 0; i < 9; i++) {
            if (P[i] == ' ') {
                empty_spaces++;
            }
        }
        //------------------------------------------------------------------------------------------------------------------------------

    } while (game_run);

    return 0;
}
//------------------------------------------------------------------------------------------------------------------------------

//  Draw Board  ----------------------------------------------------------------------------------------------------------------
void DrawBoard(int human_move, int computer_move) {

    P[human_move] = 'X';
    P[computer_move] = 'O';

    system("cls");
    printf("\n");
    printf("     |     |     \n");
    printf("  %c  |  %c  |  %c  \n", P[0], P[1], P[2]);
    printf("     |     |     \n");
    printf("-----|-----|-----\n");
    printf("     |     |     \n");
    printf("  %c  |  %c  |  %c  \n", P[3], P[4], P[5]);
    printf("     |     |     \n");
    printf("-----|-----|-----\n");
    printf("     |     |     \n");
    printf("  %c  |  %c  |  %c  \n", P[6], P[7], P[8]);
    printf("     |     |     \n");
    printf("\n");

}
//------------------------------------------------------------------------------------------------------------------------------

//  Human Move & Intro print  --------------------------------------------------------------------------------------------------
int HumanMove() {

    while (introprint < 2) {
        printf("\n");
        printf("     |     |     \n");
        printf("  1  |  2  |  3  \n");
        printf("     |     |     \n");
        printf("-----|-----|-----\n");
        printf("     |     |     \n");
        printf("  4  |  5  |  6  \n");
        printf("     |     |     \n");
        printf("-----|-----|-----\n");
        printf("     |     |     \n");
        printf("  7  |  8  |  9  \n");
        printf("     |     |     \n");
        printf("\n");
        introprint++;
    }

    int human_move;
    printf("Enter a place: ( 1 - 9 ) :  ");
    //scanf("%d", &human_move);
    scanf_s("%d", &human_move);
    human_move -= 1;

    return human_move;
}
//------------------------------------------------------------------------------------------------------------------------------

//  Computer Move XD  ----------------------------------------------------------------------------------------------------------
int ComputerMove() {

    int computer_move;

    computer_move = rand() % 9;

    return computer_move;
}
//------------------------------------------------------------------------------------------------------------------------------